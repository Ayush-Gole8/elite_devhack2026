{
  "title": "Xor Product",
  "slug": "cf-2190-F",
  "difficulty": "Hard",
  "tags": [
    "bitmasks",
    "dp"
  ],
  "time_limit_ms": 2000,
  "memory_limit_kb": 256000,
  "description": "For non-negative integers ğ‘¥,ğ‘¦ ğ‘¥, ğ‘¦\n and a positive integer ğ‘˜, let ğ‘†(ğ‘¥,ğ‘¦,ğ‘˜) ğ‘† (ğ‘¥, ğ‘¦, ğ‘˜) be the set of values (ğ‘¥+ğ‘–)âŠ•(ğ‘¦+ğ‘—) (ğ‘¥ + ğ‘–) âŠ• (ğ‘¦ + ğ‘—) for all 0 â‰¤ ğ‘–,ğ‘—<ğ‘˜ 0 â‰¤ ğ‘–, ğ‘— < ğ‘˜. Formally: ğ‘†(ğ‘¥,ğ‘¦,ğ‘˜)={(ğ‘¥+ğ‘–)âŠ•(ğ‘¦+ğ‘—)âˆ£0 â‰¤ ğ‘–,ğ‘—<ğ‘˜} ğ‘† (ğ‘¥, ğ‘¦, ğ‘˜) = { (ğ‘¥ + ğ‘–) âŠ• (ğ‘¦ + ğ‘—) âˆ£ 0 â‰¤ ğ‘–, ğ‘— < ğ‘˜ } where âŠ• denotes the bitwise XOR operation.\n Define ğ‘“(ğ‘¥,ğ‘˜) ğ‘“ (ğ‘¥, ğ‘˜) as the maximum size of ğ‘†(ğ‘¥,ğ‘¦,ğ‘˜) ğ‘† (ğ‘¥, ğ‘¦, ğ‘˜)\n over all non-negative integers ğ‘¦ (that is, ğ‘¦ â‰¥ 0 ğ‘¦ â‰¥ 0).\n\nYou are given integers ğ‘¥ and ğ‘˜. Compute ğ‘“(ğ‘¥,ğ‘˜) ğ‘“ (ğ‘¥, ğ‘˜).",
  "input_format": "Input\n\nEach test contains multiple test cases. The first line contains the number of test cases ğ‘¡ (1 â‰¤ ğ‘¡ â‰¤ 10 4 1 â‰¤ ğ‘¡ â‰¤ 10 4\n). The description of the test cases follows.\n Each of the next ğ‘¡ lines contains two integers ğ‘¥ and ğ‘˜ (1 â‰¤ ğ‘¥,ğ‘˜ â‰¤ 10 17 1 â‰¤ ğ‘¥, ğ‘˜ â‰¤ 10 17).",
  "output_format": "Output\n\nFor each test case, output a single integerÂ â€” the value of ğ‘“(ğ‘¥,ğ‘˜) ğ‘“ (ğ‘¥, ğ‘˜).",
  "constraints": "Note\n\nIn the first example, since ğ‘˜=1 ğ‘˜ = 1, the set ğ‘† will always contain exactly one element regardless of ğ‘¦ \n. For instance, if we pick ğ‘¦=69 ğ‘¦ = 69, we have ğ‘†(67,69,1)={67âŠ•69}={6} ğ‘† (67, 69, 1) = { 67 âŠ• 69 } = { 6 }, so |ğ‘†(ğ‘¥,ğ‘¦,ğ‘˜)|=1 | ğ‘† (ğ‘¥, ğ‘¦, ğ‘˜) | = 1. \nIn the second example, we have ğ‘¥=7 ğ‘¥ = 7 and ğ‘˜=3 ğ‘˜ = 3. The optimal choice is ğ‘¦=8 ğ‘¦ = 8. The values of (ğ‘¥+ğ‘–)âŠ•(ğ‘¦+ğ‘—) (ğ‘¥ + ğ‘–) âŠ• (ğ‘¦ + ğ‘—) are:\n[7âŠ•8,7âŠ•9,7âŠ•10,8âŠ•8,8âŠ•9,8âŠ•10,9âŠ•8,9âŠ•9,9âŠ•10] [7 âŠ• 8, 7 âŠ• 9, 7 âŠ• 10, 8 âŠ• 8, 8 âŠ• 9, 8 âŠ• 10, 9 âŠ• 8, 9 âŠ• 9, 9 âŠ• 10] which simplifies to [15,14,13,0,1,2,1,0,3] [15, 14, 13, 0, 1, 2, 1, 0, 3]\n. The set of distinct values is \nğ‘†(7,8,3)={0,1,2,3,13,14,15} ğ‘† (7, 8, 3) = { 0, 1, 2, 3, 13, 14, 15 }, so the size is 7. It can be shown that no other ğ‘¦ \n yields a larger size. However, the choice of ğ‘¦ \n matters; for example, if you chose ğ‘¦=22 ğ‘¦ = 22, you would get ğ‘†(7,22,3)={16,17,30,31} ğ‘† (7, 22, 3) = { 16, 17, 30, 31 } with size 4, which is suboptimal.\n\nIn the sixth example, after countless calculations, we managed to figure out that the optimal ğ‘¦ is 278302368699121665 278 302 368 699 121 665\n, which gives an answer of 398158383604301822 398 158 383 604 301 822. The proof is left to the reader as a trivial exercise.",
  "test_cases": [
    {
      "input": "6\n67 1\n7 3\n100 12\n1 1043\n1526 1043\n88946092640567295 100000000000000000",
      "output": "1\n7\n32\n3128\n4167\n398158383604301822",
      "is_sample": true
    }
  ]
}