{
  "title": "Parabola Independence",
  "slug": "cf-2195-F",
  "difficulty": "Easy",
  "tags": [
    "dp",
    "graphs",
    "greedy",
    "math",
    "sortings"
  ],
  "time_limit_ms": 2000,
  "memory_limit_kb": 256000,
  "description": "You are given a set of ğ‘› quadratic functions ğ¹={\nğ‘“1,ğ‘“2,â€¦,ğ‘“ğ‘›\n}\nğ¹=\n{\nğ‘“1,ğ‘“2,â€¦,ğ‘“ğ‘›\n}\n, where ğ‘“ğ‘–(ğ‘¥)=ğ‘ğ‘–ğ‘¥2+ğ‘ğ‘–ğ‘¥+ğ‘ğ‘–ğ‘“ğ‘–(ğ‘¥)\n=ğ‘ğ‘–ğ‘¥2+ğ‘ğ‘–ğ‘¥+ğ‘ğ‘–.\n\nTwo functions ğ‘“ and ğ‘” are called independent if ğ‘“(ğ‘¥)â‰ ğ‘”(ğ‘¥)ğ‘“(ğ‘¥)\nâ‰ ğ‘”(ğ‘¥)\n for all ğ‘¥âˆˆâ„ ğ‘¥ âˆˆ\nğ‘….\n\nAlso, a set of functions ğº={\nğ‘”1,ğ‘”2,â€¦,ğ‘”ğ‘˜\n}\nğº=\n{\nğ‘”1,ğ‘”2,â€¦,ğ‘”ğ‘˜\n}\n is called organized if the two functions ğ‘”ğ‘– and ğ‘”ğ‘— are independent for all 1â‰¤ğ‘–<ğ‘—â‰¤|ğº|1â‰¤ğ‘–\n<\nğ‘—â‰¤|ğº|\n.\n\nFor each ğ‘–=1,2,â€¦,ğ‘›, please find the size of the largest organized subset of ğ¹ that contains ğ‘“ğ‘– as an element.",
  "input_format": "Each test contains multiple test cases. The first line contains the number of test cases ğ‘¡ (1â‰¤ğ‘¡â‰¤10^4). The description of the test cases follows.\n\nThe first line of each test case contains a single integer ğ‘› (1â‰¤ğ‘›â‰¤3000).\n\nEach of the ğ‘› following lines contains three integers ğ‘ğ‘–, ğ‘ğ‘–, ğ‘ğ‘– denoting the function ğ‘“ğ‘– (\nâˆ’10^6â‰¤ğ‘ğ‘–,ğ‘ğ‘–,ğ‘ğ‘–â‰¤10^6, ğ‘ğ‘–â‰ 0 ğ‘ğ‘–â‰ 0).\n\nIt is guaranteed that the functions in one test case are pairwise distinct.\n\nIt is guaranteed that the sum of ğ‘›2 over all test cases does not exceed 3000^2.",
  "output_format": "For each test case, output ğ‘› integers ğ‘ 1,ğ‘ 2,â€¦,ğ‘ ğ‘›, where ğ‘ ğ‘– is the size of the largest organized subset that contains ğ‘“ğ‘–.",
  "constraints": "In the first test case, the functions are as follows:\n\nğ‘“1(ğ‘¥)=ğ‘¥2+2ğ‘¥âˆ’1 ğ‘“1(ğ‘¥)\n=ğ‘¥2+2 ğ‘¥âˆ’1;\nğ‘“2(ğ‘¥)=âˆ’3 ğ‘¥2\nâˆ’3 ğ‘“2(ğ‘¥)\n=\nâˆ’3 ğ‘¥2\nâˆ’3;\nğ‘“3(ğ‘¥)=âˆ’ğ‘¥2+4ğ‘¥âˆ’5 ğ‘“3(ğ‘¥)\n=\nâˆ’ğ‘¥2+4 ğ‘¥âˆ’5;\nğ‘“4(ğ‘¥)=ğ‘¥2+2ğ‘¥âˆ’4 ğ‘“4(ğ‘¥)\n=ğ‘¥2+2 ğ‘¥âˆ’4.\n\nThe functions' graphs are as shown below:\n\nThe largest organized subsets of ğ¹ containing each function are as follows:\n\n{\nğ‘“1,ğ‘“3,ğ‘“4\n}\n{\nğ‘“1,ğ‘“3,ğ‘“4\n}\n is the largest organized subset that contains ğ‘“1;\n{\nğ‘“1,ğ‘“2\n}\n{\nğ‘“1,ğ‘“2\n}\n is the largest organized subset that contains ğ‘“2;\n{\nğ‘“1,ğ‘“3,ğ‘“4\n}\n{\nğ‘“1,ğ‘“3,ğ‘“4\n}\n is the largest organized subset that contains ğ‘“3;\n{\nğ‘“1,ğ‘“3,ğ‘“4\n}\n{\nğ‘“1,ğ‘“3,ğ‘“4\n}\n is the largest organized subset that contains ğ‘“4.",
  "test_cases": [
    {
      "input": "3\n4\n1 2 -1\n-3 0 -3\n-1 4 -5\n1 2 -4\n5\n3 0 0\n1 0 -5\n-3 0 0\n-1 0 10\n1 0 -10\n5\n884 -667 497\n680 -973 213\n23 -548 -412\n826 359 -333\n773 212 218",
      "output": "3 2 3 3\n3 3 2 2 3\n3 3 3 1 2",
      "is_sample": true
    }
  ],
  "patterns": [
    "dp",
    "backtracking",
    "binary-search",
    "math"
  ]
}