{
  "title": "Parabola Independence",
  "slug": "cf-2195-F",
  "difficulty": "Easy",
  "tags": [
    "dp",
    "graphs",
    "greedy",
    "math",
    "sortings"
  ],
  "time_limit_ms": 2000,
  "memory_limit_kb": 256000,
  "description": "You are given a set of \nğ‘›\nğ‘›\n quadratic functions \nğ¹={\nğ‘“\n1\n,\nğ‘“\n2\n,â€¦,\nğ‘“\nğ‘›\n}\nğ¹\n=\n{\nğ‘“\n1\n,\nğ‘“\n2\n,\nâ€¦\n,\nğ‘“\nğ‘›\n}\n, where \nğ‘“\nğ‘–\n(ğ‘¥)=\nğ‘\nğ‘–\nğ‘¥\n2\n+\nğ‘\nğ‘–\nğ‘¥+\nğ‘\nğ‘–\nğ‘“\nğ‘–\n(\nğ‘¥\n)\n=\nğ‘\nğ‘–\nğ‘¥\n2\n+\nğ‘\nğ‘–\nğ‘¥\n+\nğ‘\nğ‘–\n.\n\nTwo functions \nğ‘“\nğ‘“\n and \nğ‘”\nğ‘”\n are called independent if \nğ‘“(ğ‘¥)â‰ ğ‘”(ğ‘¥)\nğ‘“\n(\nğ‘¥\n)\nâ‰ \nğ‘”\n(\nğ‘¥\n)\n for all \nğ‘¥âˆˆâ„\nğ‘¥\nâˆˆ\nğ‘…\n.\n\nAlso, a set of functions \nğº={\nğ‘”\n1\n,\nğ‘”\n2\n,â€¦,\nğ‘”\nğ‘˜\n}\nğº\n=\n{\nğ‘”\n1\n,\nğ‘”\n2\n,\nâ€¦\n,\nğ‘”\nğ‘˜\n}\n is called organized if the two functions \nğ‘”\nğ‘–\nğ‘”\nğ‘–\n and \nğ‘”\nğ‘—\nğ‘”\nğ‘—\n are independent for all \n1â‰¤ğ‘–<ğ‘—â‰¤|ğº|\n1\nâ‰¤\nğ‘–\n<\nğ‘—\nâ‰¤\n|\nğº\n|\n.\n\nFor each \nğ‘–=1,2,â€¦,ğ‘›\nğ‘–\n=\n1\n,\n2\n,\nâ€¦\n,\nğ‘›\n, please find the size of the largest organized subset of \nğ¹\nğ¹\n that contains \nğ‘“\nğ‘–\nğ‘“\nğ‘–\n as an element.",
  "input_format": "Input\n\nEach test contains multiple test cases. The first line contains the number of test cases \nğ‘¡\nğ‘¡\n (\n1â‰¤ğ‘¡â‰¤\n10\n4\n1\nâ‰¤\nğ‘¡\nâ‰¤\n10\n4\n). The description of the test cases follows.\n\nThe first line of each test case contains a single integer \nğ‘›\nğ‘›\n (\n1â‰¤ğ‘›â‰¤3000\n1\nâ‰¤\nğ‘›\nâ‰¤\n3000\n).\n\nEach of the \nğ‘›\nğ‘›\n following lines contains three integers \nğ‘\nğ‘–\nğ‘\nğ‘–\n, \nğ‘\nğ‘–\nğ‘\nğ‘–\n, \nğ‘\nğ‘–\nğ‘\nğ‘–\n denoting the function \nğ‘“\nğ‘–\nğ‘“\nğ‘–\n (\nâˆ’\n10\n6\nâ‰¤\nğ‘\nğ‘–\n,\nğ‘\nğ‘–\n,\nğ‘\nğ‘–\nâ‰¤\n10\n6\nâˆ’\n10\n6\nâ‰¤\nğ‘\nğ‘–\n,\nğ‘\nğ‘–\n,\nğ‘\nğ‘–\nâ‰¤\n10\n6\n, \nğ‘\nğ‘–\nâ‰ 0\nğ‘\nğ‘–\nâ‰ \n0\n).\n\nIt is guaranteed that the functions in one test case are pairwise distinct.\n\nIt is guaranteed that the sum of \nğ‘›\n2\nğ‘›\n2\n over all test cases does not exceed \n3000\n2\n3000\n2\n.",
  "output_format": "Output\n\nFor each test case, output \nğ‘›\nğ‘›\n integers \nğ‘ \n1\n,\nğ‘ \n2\n,â€¦,\nğ‘ \nğ‘›\nğ‘ \n1\n,\nğ‘ \n2\n,\nâ€¦\n,\nğ‘ \nğ‘›\n, where \nğ‘ \nğ‘–\nğ‘ \nğ‘–\n is the size of the largest organized subset that contains \nğ‘“\nğ‘–\nğ‘“\nğ‘–\n.",
  "constraints": "Note\n\nIn the first test case, the functions are as follows:\n\nğ‘“\n1\n(ğ‘¥)=\nğ‘¥\n2\n+2ğ‘¥âˆ’1\nğ‘“\n1\n(\nğ‘¥\n)\n=\nğ‘¥\n2\n+\n2\nğ‘¥\nâˆ’\n1\n;\nğ‘“\n2\n(ğ‘¥)=âˆ’3\nğ‘¥\n2\nâˆ’3\nğ‘“\n2\n(\nğ‘¥\n)\n=\nâˆ’\n3\nğ‘¥\n2\nâˆ’\n3\n;\nğ‘“\n3\n(ğ‘¥)=âˆ’\nğ‘¥\n2\n+4ğ‘¥âˆ’5\nğ‘“\n3\n(\nğ‘¥\n)\n=\nâˆ’\nğ‘¥\n2\n+\n4\nğ‘¥\nâˆ’\n5\n;\nğ‘“\n4\n(ğ‘¥)=\nğ‘¥\n2\n+2ğ‘¥âˆ’4\nğ‘“\n4\n(\nğ‘¥\n)\n=\nğ‘¥\n2\n+\n2\nğ‘¥\nâˆ’\n4\n.\n\nThe functions' graphs are as shown below:\n\nThe largest organized subsets of \nğ¹\nğ¹\n containing each function are as follows:\n\n{\nğ‘“\n1\n,\nğ‘“\n3\n,\nğ‘“\n4\n}\n{\nğ‘“\n1\n,\nğ‘“\n3\n,\nğ‘“\n4\n}\n is the largest organized subset that contains \nğ‘“\n1\nğ‘“\n1\n;\n{\nğ‘“\n1\n,\nğ‘“\n2\n}\n{\nğ‘“\n1\n,\nğ‘“\n2\n}\n is the largest organized subset that contains \nğ‘“\n2\nğ‘“\n2\n;\n{\nğ‘“\n1\n,\nğ‘“\n3\n,\nğ‘“\n4\n}\n{\nğ‘“\n1\n,\nğ‘“\n3\n,\nğ‘“\n4\n}\n is the largest organized subset that contains \nğ‘“\n3\nğ‘“\n3\n;\n{\nğ‘“\n1\n,\nğ‘“\n3\n,\nğ‘“\n4\n}\n{\nğ‘“\n1\n,\nğ‘“\n3\n,\nğ‘“\n4\n}\n is the largest organized subset that contains \nğ‘“\n4\nğ‘“\n4\n.",
  "test_cases": [
    {
      "input": "3\n4\n1 2 -1\n-3 0 -3\n-1 4 -5\n1 2 -4\n5\n3 0 0\n1 0 -5\n-3 0 0\n-1 0 10\n1 0 -10\n5\n884 -667 497\n680 -973 213\n23 -548 -412\n826 359 -333\n773 212 218",
      "output": "3 2 3 3\n3 3 2 2 3\n3 3 3 1 2",
      "is_sample": true
    }
  ]
}
