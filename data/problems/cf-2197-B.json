{
  "title": "Array and Permutation",
  "slug": "cf-2197-B",
  "difficulty": "Easy",
  "tags": [
    "implementation",
    "schedules",
    "sortings",
    "two pointers"
  ],
  "time_limit_ms": 2000,
  "memory_limit_kb": 256000,
  "description": "Given a permutation p of length n and an array a of length n.\n\nWe call the permutation p \"generating\" for the array a if the array a can be obtained from the permutation p by applying some number of operations (possibly zero) of the following type:\n\nChoose an index i (1 ≤ i < n) and perform one of two replacements:\n- p[i] := p[i+1]\n- p[i+1] := p[i]\n\nIn other words, in one operation, you can choose two adjacent elements of the array and copy the value of one into the other.\n\nYou need to determine whether the permutation p is generating for the array a.\n\n* A permutation of length n is an array consisting of n distinct integers from 1 to n in arbitrary order. For example, [2,3,1,5,4] is a permutation, but [1,2,2] is not (2 appears twice), and [1,3,4] is not (n=3 but there is 4 in the array).",
  "input_format": "The first line contains the number of test cases t (1 ≤ t ≤ 10^4).\n\nFor each test case:\n- The first line contains a single integer n (2 ≤ n ≤ 2·10^5) — the length of the array and permutation.\n- The second line contains n integers p[1], p[2], ..., p[n] (1 ≤ p[i] ≤ n) — the permutation.\n- The third line contains n integers a[1], a[2], ..., a[n] (1 ≤ a[i] ≤ n) — the array.\n\nThe sum of n across all test cases does not exceed 2·10^5.",
  "output_format": "For each test case, output \"YES\" if the permutation p is generating for the array a, otherwise output \"NO\".\n\nYou may output each letter in any case (lowercase or uppercase). For example, \"yEs\", \"yes\", \"Yes\", and \"YES\" will all be accepted.",
  "constraints": "Examples from test cases:\n- In the first test case, the array is generated using one operation: i=2 and p[i+1] := p[i].\n- In the second test case, it is impossible to obtain a from p.\n- In the third test case, 2 operations are needed: i=1 and p[i] := p[i+1], then i=2 and p[i+1] := p[i].",
  "test_cases": [
    {
      "input": "6\n3\n1 2 3\n1 2 2\n4\n3 1 2 4\n3 4 2 2\n5\n1 3 2 5 4\n3 3 3 5 4\n7\n3 7 4 2 1 6 5\n3 3 4 4 5 6 5\n7\n1 2 3 4 5 6 7\n7 7 7 7 7 7 7\n7\n1 3 2 7 5 4 6\n2 2 7 7 7 5 6",
      "output": "YES\nNO\nYES\nNO\nYES\nYES",
      "is_sample": true
    }
  ]
}