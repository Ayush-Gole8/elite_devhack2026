{
  "title": "The Turtle Strikes Back",
  "slug": "cf-2194-E",
  "difficulty": "Easy",
  "tags": [
    "dp",
    "graphs",
    "greedy",
    "implementation"
  ],
  "time_limit_ms": 2000,
  "memory_limit_kb": 256000,
  "description": "After a heavy training session, Michelangelo and Raphael decided to order pizza. Today, on the occasion of the holiday, the pizzeria is preparing rectangular pizzas made of \nğ‘›\nğ‘›\n rows and \nğ‘š\nğ‘š\n columns of slices. Each slice has its own unique recipe and flavor.\n\nMichelangelo was the first to open the box and roughly estimated the pleasure of eating each slice: the pleasure from the slice located in the \nğ‘–\nğ‘–\n-th row and \nğ‘—\nğ‘—\n-th column is equal to \nğ‘\nğ‘–,ğ‘—\nğ‘\nğ‘–\n,\nğ‘—\n. It is guaranteed that there is at least one slice that Michelangelo liked, meaning that among \nğ‘\nğ‘–,ğ‘—\nğ‘\nğ‘–\n,\nğ‘—\n there is at least one non-negative number.\n\nThe turtles agreed that Michelangelo would eat first. According to an ancient tradition, he must choose a route from the top left corner \n(1,1)\n(\n1\n,\n1\n)\n to the bottom right corner \n(ğ‘›,ğ‘š)\n(\nğ‘›\n,\nğ‘š\n)\n and eat all the slices on that route. In one step, he can move either to the adjacent slice on the right or to the adjacent slice below.\n\nMichelangelo aims to maximize the total pleasure from the eaten slices.\n\nHowever, Raphael decided to use sauce. Before Michelangelo chooses a route, Raphael decided to choose exactly one slice of pizza and apply his signature sauce to it. But due to the specifics of this sauce, the pleasure from that slice changes to the opposite: if it was previously \nğ‘\nğ‘–,ğ‘—\nğ‘\nğ‘–\n,\nğ‘—\n, after applying the sauce it becomes \nâˆ’\nğ‘\nğ‘–,ğ‘—\nâˆ’\nğ‘\nğ‘–\n,\nğ‘—\n.\n\nAfter that, knowing Raphael's choice, Michelangelo will choose the optimal route for himself and eat all the slices on it.\n\nRaphael became curious about what minimum pleasure Michelangelo could achieve. Help him calculate this number.",
  "input_format": "Input\n\nEach test contains multiple test cases. The first line contains the number of test cases \nğ‘¡\nğ‘¡\n (\n1â‰¤ğ‘¡â‰¤\n10\n4\n1\nâ‰¤\nğ‘¡\nâ‰¤\n10\n4\n). The description of the test cases follows.\n\nIn the first line of each test case, two integers \nğ‘›,ğ‘š(1â‰¤ğ‘›,ğ‘šâ‰¤\n10\n6\n,1â‰¤ğ‘›â‹…ğ‘šâ‰¤\n10\n6\n)\nğ‘›\n,\nğ‘š\n(\n1\nâ‰¤\nğ‘›\n,\nğ‘š\nâ‰¤\n10\n6\n,\n1\nâ‰¤\nğ‘›\nâ‹…\nğ‘š\nâ‰¤\n10\n6\n)\n are given â€” the number of rows and columns in the table, respectively.\n\nIn each of the following \nğ‘›\nğ‘›\n lines of each test case, \nğ‘š\nğ‘š\n integers are provided, separated by spaces. The \nğ‘—\nğ‘—\n-th number in the \nğ‘–\nğ‘–\n-th of these lines corresponds to the value \nğ‘\nğ‘–,ğ‘—\nğ‘\nğ‘–\n,\nğ‘—\n (\nâˆ’\n10\n9\nâ‰¤\nğ‘\nğ‘–,ğ‘—\nâ‰¤\n10\n9\nâˆ’\n10\n9\nâ‰¤\nğ‘\nğ‘–\n,\nğ‘—\nâ‰¤\n10\n9\n). It is guaranteed that there is at least one non-negative value among the \nğ‘\nğ‘–,ğ‘—\nğ‘\nğ‘–\n,\nğ‘—\n.\n\nIt is guaranteed that the sum of \nğ‘›â‹…ğ‘š\nğ‘›\nâ‹…\nğ‘š\n across all test cases does not exceed \n10\n6\n10\n6",
  "output_format": "Output\n\nFor each test case, output a single integer â€” the minimum pleasure Michelangelo can achieve, which Raphael can guarantee.",
  "constraints": "Note\n\nIf Raphael did not use the sauce, Michelangelo would choose the path\n(1,1)â†’(2,1)â†’(3,1)â†’(3,2)â†’(3,3)\n(\n1\n,\n1\n)\nâ†’\n(\n2\n,\n1\n)\nâ†’\n(\n3\n,\n1\n)\nâ†’\n(\n3\n,\n2\n)\nâ†’\n(\n3\n,\n3\n)\nwhich gives a total pleasure of \n1+4+1+6âˆ’1=11\n1\n+\n4\n+\n1\n+\n6\nâˆ’\n1\n=\n11\n.\n\nHowever, if Raphael applies the sauce to the cell \n(3,2)\n(\n3\n,\n2\n)\n, the value \n6\n6\n will turn into \nâˆ’6\nâˆ’\n6\n. Then the optimal path for Michelangelo will be\n(1,1)â†’(1,2)â†’(1,3)â†’(2,3)â†’(3,3)\n(\n1\n,\n1\n)\nâ†’\n(\n1\n,\n2\n)\nâ†’\n(\n1\n,\n3\n)\nâ†’\n(\n2\n,\n3\n)\nâ†’\n(\n3\n,\n3\n)\nwith a total pleasure of \n1âˆ’2+3+2âˆ’1=3\n1\nâˆ’\n2\n+\n3\n+\n2\nâˆ’\n1\n=\n3\n. Raphael cannot achieve a lower result in any cell",
  "test_cases": [
    {
      "input": "2\n3 3\n1 -2 3\n4 -5 2\n1 6 -1\n2 4\n-1 -1 -1 1\n-1 -1 -1 -1",
      "output": "3\n-5",
      "is_sample": true
    }
  ]
}
